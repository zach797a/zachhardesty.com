function doValidateDBCredsCall(c){$("input").css("background-color","");var g=$("#dbHost").val();var b=$("#dbPort").val();var d=$("#dbName").val();var a=$("#dbUser").val();var f=$("#dbPass").val();var e=$("#dbTableNamePrefix").val();if(!g){$("#dbHost").css("background-color","#EFDEDE")}if(!b){$("#dbPort").css("background-color","#EFDEDE")}if(!d){$("#dbName").css("background-color","#EFDEDE")}if(!a){$("#dbUser").css("background-color","#EFDEDE")}if(!e){$("#dbTableNamePrefix").css("background-color","#EFDEDE")}if(!(g&&b&&d&&a&&e)){return""}$(".btn_next_step").css("width","110px");$(".continueLink ").append("<span class='loading'></span>");$(".btn_next_step.float-right.rep_sprite").addClass("disabled");$(".continueLink").addClass("linkDisabled");$.ajax({type:"GET",url:"index.php",dataType:"json",data:{dbHost:g,dbPort:b,dbName:d,dbUser:a,dbPass:f,dbTableNamePrefix:e},success:function(h){$(".btn_next_step").css("width","");$(".continueLink ").find("span").remove();$(".btn_next_step.float-right.rep_sprite").removeClass("disabled");$(".continueLink").removeClass("linkDisabled");if(typeof h!="undefined"&&h!=null){if(typeof h.error!="undefined"){$("#detailedError").html(h.error)}else{$("#detailedError").html(h)}$("#errorDatabase").css("display","block")}else{$("#errorDatabase").css("display","none");$("#databasec").removeAttr("onsubmit");if(c==1){$("#databasec").attr("action","index.php?step=createLogin&pluginInstaller")}else{$("#databasec").attr("action","index.php?step=createLogin")}$("#databasec").submit()}},error:function(h){$(".btn_next_step").css("width","");$(".continueLink ").find("span").remove();$(".btn_next_step.float-right.rep_sprite").removeClass("disabled");$(".continueLink").removeClass("linkDisabled");$("#detailedError").html(h.responseText);$("#errorDatabase").css("display","block")}})}function createLoginCheck(c){$("#loginError").hide();$("#email_subscribe").css("top","-9px");var b=$("#myPassword").val();var a=$("#email").val();if(!a){$("#email").css("background-color","#EFDEDE")}else{if(!validateEmail(a)){$("#loginError").html("Please enter a valid email");$("#loginError").show();$("#email_subscribe").css("top","-52px")}else{if(b.length<6){$("#loginError").html("Password should have minimum 6 characters");$("#loginError").show();$("#email_subscribe").css("top","-52px")}else{$("#loginCredsForm").removeAttr("onsubmit");if(c==1){$("#loginCredsForm").attr("action","index.php?step=install&pluginInstaller")}else{$("#loginCredsForm").attr("action","index.php?step=install")}if($("#email_subscribe").hasClass("active")){$("#emailSubscribe").val("1")}else{$("#emailSubscribe").val("0")}$("#loginCredsForm").submit()}}}}function showSuccessItems(){if($("#somethingWentWrong").is(":visible")){return false}$("#openAdminPanel").show();$("#installNote").hide();$(".install_progress").hide()}function showFailureItems(){$("#openAdminPanel").hide();$(".install_progress").hide();$("#installNote").hide();$("#somethingWentWrong").show()}function changeNewIWPURL(a){$(".open_panel").attr("href",a)}function successInstallFolderRemoved(){$(".success_area").html("We have removed the <strong>install</strong> folder for security reasons.");$(".success_area").show()}function failedInstallFolderRemove(){$(".install_folder_msg").html("We are not able to remove the <strong>install</strong> folder. Please remove or rename it for enhanced security.");$(".install_folder_msg").show()}function validateEmail(a){var b=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return b.test(a)}function progressBar(a){$("#progress").css("width",a+"px")}function startInstall(){$.ajax({type:"POST",url:"index.php",dataType:"json",data:{process:"startInstall",dbHost:dbHost,dbUser:dbUser,dbName:dbName,dbPort:dbPort,dbTableNamePrefix:dbTableNamePrefix,dbPass:dbPass,email:email,password:password},success:function(a){processInstallResult(a)}})}function processInstallResult(a){if(typeof a=="undefined"){return}if(typeof a.error!="undefined"){$(".error_cont").html(a.error);$(".error_cont").show();$("#expertsInstallation").show()}if(typeof a.progressBar!="undefined"){progressBar(a.progressBar)}if(typeof a.executeSchemaQueries!="undefined"){if(a.executeSchemaQueries!="completed"){continueInstall("executeSchemaQueries",a.executeSchemaQueries)}else{if(a.executeSchemaQueries=="completed"){continueInstall("modifyConfigFile","")}}}else{if(typeof a.modifyConfigFile!="undefined"&&a.modifyConfigFile=="completed"){continueInstall("userCreated","")}else{if(typeof a.userCreated!="undefined"&&a.userCreated=="completed"){continueInstall("removeInstallFolder","");showSuccessItems()}else{if(typeof a.removeInstallFolder!="undefined"){if(a.removeInstallFolder=="failed"){failedInstallFolderRemove()}else{if(a.removeInstallFolder=="success"){successInstallFolderRemoved()}}}}}}}function continueInstall(b,a){$.ajax({type:"POST",url:"index.php",dataType:"json",data:{process:"continueInstall",type:b,status:a,dbHost:dbHost,dbUser:dbUser,dbName:dbName,dbPort:dbPort,dbTableNamePrefix:dbTableNamePrefix,dbPass:dbPass,email:email,password:password},success:function(c){processInstallResult(c)}})}$(function(){$("a.linkDisabled").live("click",function(a){a.preventDefault();return false});$("#email").live("click",function(){$("#email").css("background-color","")});$(".show_password").live("mousedown",function(b){var a=$(this).next(".passwords").get(0);a.blur();a.type="text";$(this).text("Hide");b.preventDefault()}).live("mouseup mouseleave",function(a){$(this).text("Show");$(this).next(".passwords").get(0).type="password"});$(".btn_next_step").live("mousedown",function(){$(this).addClass("pressed")}).live("mouseup",function(){$(this).removeClass("pressed")});$(".nano").nanoScroller();$("input").live("click",function(){$(this).css("background-color","")});$("#email_subscribe").live("click",function(){if($(this).hasClass("active")){$(this).removeClass("active")}else{$(this).addClass("active")}});$("#reStartInstall").live("click",function(){$(".error_cont").hide();$("#expertsInstallation").hide();startInstall()});$("#myPassword").strength({strengthClass:"iwp_compatibility  strength",strengthMeterClass:"strength_meter",strengthButtonClass:"button_strength",strengthButtonText:"Show",strengthButtonTextToggle:"Hide"})});